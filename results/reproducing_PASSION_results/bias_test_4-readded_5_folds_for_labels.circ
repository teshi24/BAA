[32m2025-04-28 09:41:12.718[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36m_run_evaluation_on_range[0m:[36m285[0m - [34m[1mloading saved dict[0m
[32m2025-04-28 09:41:12.815[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36mparse_targets[0m:[36m531[0m - [34m[1mparse result: [0, 2, 1, 3, 0, 1, 0, 1, 3, 2, 3, 1, 1, 0, 3, 2, 2, 1, 0, 3, 2, 2, 0, 3, 3, 3, 2, 0, 2, 2, 2, 3, 1, 1, 2, 0, 1, 0, 2, 2, 1, 3, 0, 0, 3, 3, 3, 0, 0, 0, 3, 0, 2, 3, 2, 1, 0, 2, 3, 2, 1, 0, 2, 0, 2, 1, 2, 2, 3, 3, 0, 0, 0, 2, 0, 3, 2, 0, 2, 1, 2, 1, 2, 2, 3, 3, 2, 0, 2, 1, 3, 2, 2, 1, 2, 2, 3, 3, 1, 2, 0, 3, 3, 0, 2, 0, 3, 2, 2, 2, 1, 3, 1, 2, 1, 0, 1, 1, 3, 3, 2, 3, 0, 1, 1, 0, 3, 1, 0, 0, 2, 2, 3, 2, 2, 3, 0, 2, 2, 1, 1, 1, 1, 1, 2, 1, 3, 0, 2, 0, 3, 1, 3, 2, 2, 2, 3, 3, 3, 2, 0, 1, 3, 2, 2, 1, 1, 1, 1, 2, 2, 2, 3, 0, 0, 2, 2, 1, 1, 3, 2, 3, 0, 3, 1, 3, 0, 1, 1, 1, 2, 1, 0, 2, 3, 3, 2, 0, 3, 2, 3, 0, 0, 1, 1, 2, 2, 3, 2, 1, 2, 0, 3, 3, 3, 3, 1, 2, 2, 0, 1, 3, 0, 0, 1, 2, 1, 2, 3, 2, 0, 2, 3, 0, 0, 1, 2, 2, 2, 2, 0, 2, 0, 0, 0, 3, 3, 1, 3, 0, 0, 0, 3, 0, 3, 0, 3, 1, 2, 1, 1, 1, 0, 2, 2, 1, 1, 3, 0, 0, 2, 3, 2, 3, 1, 1, 2, 3, 0, 1, 1, 2, 2, 3, 1, 1, 3, 2, 0, 2, 2, 2, 1, 0, 1, 1, 3, 2, 2, 2, 2, 1, 3, 1, 3, 2, 0, 2, 0, 1, 2, 2, 2, 2, 2, 2, 1, 3, 2, 2, 3, 1, 1, 1, 1, 2, 3, 3, 3, 2, 2, 0, 2, 1, 3, 0, 2, 3, 0, 0, 1, 1, 1, 3, 1, 1, 0, 2, 2, 1, 1, 2, 3, 2, 2, 3, 2, 0, 3, 2, 3, 2, 1, 3, 1, 2, 3, 3, 0, 0, 3, 2, 1, 2, 0, 0, 2, 3, 2, 1, 1, 3, 2, 2, 2, 1, 3, 0, 3, 1, 2, 3, 2, 3, 0, 0, 2, 0, 0, 2, 1, 2, 2, 3, 2, 1, 1, 1, 2, 3, 2, 0, 3, 0, 2, 2, 0, 2, 0, 1, 2, 2, 2, 1, 3, 0, 3, 3, 2, 3, 0, 2, 1, 2, 3, 1, 2, 1, 2, 1, 1, 0, 1, 0, 0, 1, 2, 2, 0, 2, 0, 2, 3, 1, 1, 2, 2, 2, 0, 0, 3, 3, 2, 2, 2, 0, 2, 1, 1, 0, 2, 2, 0, 2, 1, 3, 2, 3, 2, 1, 2, 3, 2, 0, 2, 1, 2, 0, 1, 1, 2, 2, 0, 2, 2, 3, 0, 0, 2, 3, 1, 3, 0, 2, 0, 3, 2, 0, 0, 2, 3, 2, 0, 3, 2, 3, 3, 2, 1, 3, 3, 1, 1, 0, 3, 0, 0, 2, 1, 0, 1, 3, 0, 3, 0, 2, 2, 0, 3, 3, 0, 3, 0, 3, 0, 1, 2, 0, 1, 1, 2, 3, 3, 2, 1, 0, 1, 3, 1, 3, 3, 3, 0, 1, 3, 2, 0, 0, 3, 2, 2, 2, 2, 2, 0, 0, 3, 2, 2, 0, 2, 3, 2, 3, 0, 3, 2, 0, 2, 2, 0, 3, 3, 3, 2, 2, 1, 2, 3, 2, 0, 3, 1, 2, 2, 3, 0, 3, 3, 2, 2, 2, 2, 2, 0, 1, 3, 1, 2, 3, 1, 2, 2, 1, 0, 3, 2, 0, 2, 2, 3, 3, 2, 1, 2, 2, 0, 0, 1, 2, 2, 2, 0, 1, 2, 2, 3, 0, 3, 2, 3, 0, 2, 2, 3, 3, 2, 1, 2, 3, 2, 2, 2, 3, 2, 3, 0, 1, 2, 0, 2, 0, 2, 3, 3, 1, 3, 1, 1, 0, 0, 3, 0, 3, 2, 1, 0, 2, 0, 3, 3, 1, 1, 3, 2, 0, 3, 1, 1, 1, 3, 0, 1, 2, 2, 0, 3, 0, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 3, 2, 2, 1, 2, 2, 0, 3, 2, 2, 1, 1, 3, 3, 3, 3, 2, 2, 1, 2, 0, 2, 1, 2, 2, 2, 0, 2, 1, 3, 3, 2, 3, 2, 2, 2, 0, 3, 3, 3, 2, 0, 0, 2, 3, 0, 2, 0, 1, 3, 1, 3, 3, 1, 2, 0, 2, 1, 0, 2, 1, 0, 1, 2, 2, 0, 3, 1, 0, 3, 3, 0, 2, 1, 0, 1, 0, 3, 1, 2, 2, 3, 0, 3, 0, 1, 1, 3, 3, 0, 2, 3, 2, 1, 0, 1, 3, 0, 1, 2, 1, 3, 2, 2, 0, 0, 2, 3, 0, 2, 2, 2, 1, 2, 0, 2, 0, 2, 1, 0, 3, 2, 1, 3, 0, 2, 0, 0, 2, 1, 2, 2, 0, 2, 1, 0, 2, 0, 1, 3, 2, 2, 2, 0, 3, 0, 2, 0, 2, 1, 3, 2, 2, 1, 0, 3, 2, 0, 3, 1, 3, 0, 1, 2, 1, 3, 0, 2, 1, 2, 3, 0, 0, 0, 3, 1, 2, 3, 2, 2, 1, 0, 2, 1, 2, 0, 0, 0, 1, 3, 2, 3, 0, 3, 1, 3, 0, 3, 3, 0, 0, 2, 2, 1, 3, 1, 1, 2, 2, 2, 2, 1, 1, 0, 3, 2, 2, 1, 1, 3, 3, 0, 2, 2, 2, 2, 3, 0, 0, 1, 3, 3, 1, 0, 2, 2, 0, 3, 3, 3, 2, 2, 2, 3, 1, 0, 1, 3, 0, 2, 0, 0, 2, 2, 1, 2, 3, 0, 1, 0, 2, 2, 3, 3, 0, 2, 0, 3][0m
[32m2025-04-28 09:41:12.818[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36mparse_targets[0m:[36m531[0m - [34m[1mparse result: [0, 2, 1, 3, 3, 1, 0, 1, 3, 3, 3, 1, 1, 3, 3, 2, 2, 2, 0, 3, 2, 2, 0, 3, 0, 3, 2, 1, 1, 2, 2, 3, 1, 1, 2, 0, 1, 3, 2, 2, 1, 3, 0, 2, 0, 3, 1, 2, 0, 0, 3, 0, 2, 0, 2, 1, 0, 2, 3, 2, 3, 3, 2, 0, 2, 3, 2, 2, 3, 3, 0, 0, 0, 2, 0, 3, 2, 3, 2, 3, 2, 1, 2, 2, 3, 3, 2, 0, 1, 1, 3, 2, 2, 1, 0, 2, 2, 3, 1, 2, 2, 2, 2, 0, 2, 0, 3, 2, 2, 2, 3, 3, 1, 2, 1, 0, 0, 1, 3, 3, 2, 2, 0, 1, 0, 0, 3, 1, 1, 0, 2, 2, 2, 2, 3, 0, 0, 2, 1, 1, 1, 2, 1, 1, 1, 1, 3, 0, 2, 2, 3, 1, 3, 2, 2, 2, 1, 3, 3, 2, 0, 1, 1, 0, 1, 1, 1, 1, 2, 2, 2, 2, 0, 0, 0, 2, 2, 1, 1, 3, 3, 2, 2, 1, 1, 3, 0, 1, 3, 1, 2, 2, 0, 2, 0, 3, 2, 1, 2, 2, 3, 0, 0, 1, 3, 2, 2, 3, 2, 1, 2, 0, 2, 2, 1, 3, 3, 3, 2, 0, 1, 3, 0, 0, 1, 1, 2, 2, 3, 2, 0, 0, 0, 0, 0, 3, 2, 2, 2, 2, 0, 1, 0, 0, 1, 3, 2, 2, 2, 0, 1, 2, 3, 0, 0, 0, 3, 1, 2, 1, 1, 1, 0, 2, 1, 1, 1, 3, 0, 2, 2, 3, 2, 3, 0, 0, 2, 3, 0, 1, 1, 2, 2, 1, 1, 1, 0, 2, 1, 2, 2, 2, 1, 0, 1, 1, 2, 3, 2, 2, 2, 1, 3, 1, 3, 2, 3, 2, 0, 1, 2, 2, 1, 0, 2, 2, 1, 2, 2, 2, 3, 2, 1, 1, 1, 2, 1, 1, 1, 2, 2, 3, 2, 1, 3, 0, 1, 3, 0, 0, 1, 1, 1, 1, 1, 1, 0, 2, 1, 1, 3, 2, 3, 2, 2, 0, 1, 0, 3, 3, 3, 2, 1, 3, 1, 2, 3, 3, 0, 2, 3, 2, 2, 2, 1, 0, 2, 3, 2, 1, 3, 3, 2, 2, 2, 1, 3, 0, 3, 1, 2, 3, 2, 3, 0, 2, 0, 0, 3, 2, 1, 2, 2, 2, 2, 3, 1, 1, 2, 2, 2, 0, 2, 0, 2, 2, 1, 0, 0, 3, 2, 2, 2, 1, 3, 0, 2, 3, 2, 2, 2, 2, 2, 2, 0, 1, 2, 3, 2, 2, 1, 0, 1, 0, 0, 0, 0, 2, 0, 2, 2, 2, 3, 1, 1, 2, 0, 2, 0, 0, 3, 2, 2, 2, 2, 0, 2, 1, 1, 0, 2, 2, 0, 1, 1, 3, 2, 2, 2, 1, 1, 0, 0, 0, 2, 1, 2, 0, 1, 1, 2, 2, 0, 2, 2, 3, 0, 0, 2, 2, 1, 3, 2, 3, 1, 0, 1, 0, 0, 2, 3, 2, 3, 3, 2, 2, 3, 0, 1, 0, 3, 0, 1, 0, 0, 3, 3, 2, 1, 2, 1, 3, 2, 2, 0, 2, 2, 0, 3, 3, 2, 0, 0, 0, 1, 1, 2, 0, 1, 1, 2, 3, 3, 2, 2, 0, 1, 3, 0, 0, 3, 2, 0, 1, 3, 2, 0, 0, 2, 1, 2, 2, 2, 2, 0, 0, 3, 2, 0, 2, 2, 3, 0, 3, 0, 3, 2, 0, 2, 0, 3, 3, 0, 3, 2, 1, 1, 2, 3, 1, 0, 2, 3, 2, 2, 3, 0, 3, 0, 2, 1, 2, 2, 1, 1, 1, 2, 1, 2, 2, 0, 1, 2, 1, 0, 0, 0, 2, 2, 2, 1, 3, 1, 1, 1, 2, 0, 2, 0, 3, 2, 2, 0, 1, 2, 2, 3, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 1, 1, 3, 1, 0, 2, 3, 2, 3, 0, 1, 2, 2, 2, 0, 1, 3, 2, 0, 3, 1, 1, 0, 0, 2, 2, 3, 1, 3, 0, 2, 0, 2, 3, 1, 1, 3, 3, 0, 0, 1, 1, 3, 3, 2, 1, 1, 0, 2, 2, 0, 0, 2, 0, 2, 2, 2, 2, 1, 3, 1, 2, 1, 2, 3, 1, 2, 0, 3, 2, 2, 0, 0, 3, 3, 3, 3, 2, 2, 1, 1, 1, 2, 1, 2, 2, 0, 0, 2, 1, 3, 3, 2, 3, 2, 2, 2, 2, 3, 3, 1, 2, 2, 0, 2, 3, 0, 2, 2, 0, 0, 1, 2, 3, 2, 2, 3, 2, 1, 0, 2, 2, 0, 1, 1, 2, 0, 0, 1, 2, 2, 3, 0, 1, 0, 0, 1, 2, 3, 1, 2, 2, 3, 0, 3, 3, 1, 1, 3, 2, 0, 2, 3, 2, 1, 0, 2, 3, 0, 1, 2, 1, 3, 2, 2, 0, 0, 2, 2, 0, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 0, 2, 2, 3, 2, 0, 2, 0, 0, 2, 0, 2, 2, 3, 1, 1, 0, 2, 0, 1, 0, 2, 2, 2, 0, 0, 0, 0, 1, 2, 1, 3, 2, 0, 3, 0, 3, 1, 0, 0, 1, 0, 0, 2, 2, 1, 0, 0, 2, 1, 2, 2, 0, 0, 0, 3, 0, 2, 0, 2, 1, 1, 2, 1, 1, 2, 2, 0, 0, 1, 0, 1, 0, 3, 3, 1, 2, 0, 3, 0, 0, 0, 2, 2, 1, 3, 1, 3, 1, 1, 2, 1, 1, 1, 0, 3, 3, 2, 0, 1, 3, 3, 0, 2, 2, 1, 2, 3, 0, 0, 1, 0, 3, 1, 0, 1, 2, 2, 2, 3, 3, 2, 2, 2, 3, 1, 2, 3, 0, 0, 1, 0, 0, 1, 2, 1, 2, 3, 0, 1, 3, 1, 2, 3, 2, 2, 2, 0, 3][0m
Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â° labels Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°Â°
                                  img_path      img_name  ...  Split lbl_conditions_PASSION
0     data/PASSION/images/AA00971599_1.jpg  AA00971599_1  ...  TRAIN                      0
1     data/PASSION/images/AA00971225_9.jpg  AA00971225_9  ...   TEST                      1
2     data/PASSION/images/AA00972080_1.jpg  AA00972080_1  ...  TRAIN                      1
3     data/PASSION/images/AA00971943_3.jpg  AA00971943_3  ...  TRAIN                      1
4     data/PASSION/images/AA00971318_6.jpg  AA00971318_6  ...  TRAIN                      1
...                                    ...           ...  ...    ...                    ...
4896  data/PASSION/images/AA00971364_1.jpg  AA00971364_1  ...  TRAIN                      1
4897  data/PASSION/images/AA00971348_2.jpg  AA00971348_2  ...  TRAIN                      0
4898  data/PASSION/images/AA00971166_3.jpg  AA00971166_3  ...   TEST                      3
4899  data/PASSION/images/AA00970735_6.jpg  AA00970735_6  ...  TRAIN                      2
4900  data/PASSION/images/AA00970777_1.jpg  AA00970777_1  ...  TRAIN                      0

[4901 rows x 12 columns]
******************** biasEvaluation ********************
              precision    recall  f1-score   support

      Fungal       0.68      0.69      0.68       222
      Eczema       0.66      0.73      0.69       200
     Scabies       0.72      0.76      0.74       332
      Others       0.74      0.59      0.66       232

    accuracy                           0.70       986
   macro avg       0.70      0.69      0.69       986
weighted avg       0.70      0.70      0.70       986

Balanced Acc: 0.6940162420417926
[32m2025-04-28 09:41:13.216[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36m_run_evaluation_on_range[0m:[36m296[0m - [34m[1meval_df copy:                                    img_path       img_name  ... Split lbl_conditions_PASSION
1      data/PASSION/images/AA00971225_9.jpg   AA00971225_9  ...  TEST                      1
11     data/PASSION/images/AA00970737_1.jpg   AA00970737_1  ...  TEST                      2
15    data/PASSION/images/AA00971350_11.jpg  AA00971350_11  ...  TEST                      3
16     data/PASSION/images/AA00971254_4.jpg   AA00971254_4  ...  TEST                      2
32    data/PASSION/images/AA00971350_12.jpg  AA00971350_12  ...  TEST                      3
...                                     ...            ...  ...   ...                    ...
4871   data/PASSION/images/AA00971378_4.jpg   AA00971378_4  ...  TEST                      2
4874   data/PASSION/images/AA00970246_1.jpg   AA00970246_1  ...  TEST                      2
4890   data/PASSION/images/AA00971263_4.jpg   AA00971263_4  ...  TEST                      1
4892   data/PASSION/images/AA00972023_9.jpg   AA00972023_9  ...  TEST                      2
4898   data/PASSION/images/AA00971166_3.jpg   AA00971166_3  ...  TEST                      3

[986 rows x 12 columns][0m
[32m2025-04-28 09:41:13.224[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36m_run_evaluation_on_range[0m:[36m302[0m - [34m[1meval_df:                                   img_path       img_name  subject_id  ... lbl_conditions_PASSION  targets predictions
0     data/PASSION/images/AA00971225_9.jpg   AA00971225_9  AA00971225  ...                      1        0           0
1     data/PASSION/images/AA00970737_1.jpg   AA00970737_1  AA00970737  ...                      2        2           2
2    data/PASSION/images/AA00971350_11.jpg  AA00971350_11  AA00971350  ...                      3        1           1
3     data/PASSION/images/AA00971254_4.jpg   AA00971254_4  AA00971254  ...                      2        3           3
4    data/PASSION/images/AA00971350_12.jpg  AA00971350_12  AA00971350  ...                      3        0           3
..                                     ...            ...         ...  ...                    ...      ...         ...
981   data/PASSION/images/AA00971378_4.jpg   AA00971378_4  AA00971378  ...                      2        3           2
982   data/PASSION/images/AA00970246_1.jpg   AA00970246_1  AA00970246  ...                      2        0           2
983   data/PASSION/images/AA00971263_4.jpg   AA00971263_4  AA00971263  ...                      1        2           2
984   data/PASSION/images/AA00972023_9.jpg   AA00972023_9  AA00972023  ...                      2        0           0
985   data/PASSION/images/AA00971166_3.jpg   AA00971166_3  AA00971166  ...                      3        3           3

[986 rows x 14 columns][0m
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 3, Support: 303 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.72      0.72        75
      Eczema       0.63      0.77      0.69        61
     Scabies       0.66      0.69      0.67        99
      Others       0.70      0.51      0.59        68

    accuracy                           0.67       303
   macro avg       0.68      0.67      0.67       303
weighted avg       0.68      0.67      0.67       303

Balanced Acc: 0.6730165931250791
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 4, Support: 254 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.69      0.63      0.66        57
      Eczema       0.66      0.75      0.70        56
     Scabies       0.71      0.78      0.74        81
      Others       0.69      0.57      0.62        60

    accuracy                           0.69       254
   macro avg       0.69      0.68      0.68       254
weighted avg       0.69      0.69      0.69       254

Balanced Acc: 0.6815058479532163
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 5, Support: 342 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.65      0.70      0.67        73
      Eczema       0.72      0.69      0.71        68
     Scabies       0.76      0.81      0.78       120
      Others       0.77      0.67      0.72        81

    accuracy                           0.73       342
   macro avg       0.72      0.72      0.72       342
weighted avg       0.73      0.73      0.73       342

Balanced Acc: 0.7162016518936342
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 6, Support: 87 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.63      0.71      0.67        17
      Eczema       0.56      0.67      0.61        15
     Scabies       0.78      0.78      0.78        32
      Others       0.83      0.65      0.73        23

    accuracy                           0.71        87
   macro avg       0.70      0.70      0.70        87
weighted avg       0.73      0.71      0.72        87

Balanced Acc: 0.7014932331628303
~~~~~~~~~~~~~~~~~~~~ Gender: m, Support: 561 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.71      0.71       143
      Eczema       0.68      0.78      0.73       114
     Scabies       0.72      0.78      0.75       181
      Others       0.82      0.62      0.70       123

    accuracy                           0.73       561
   macro avg       0.73      0.72      0.72       561
weighted avg       0.73      0.73      0.72       561

Balanced Acc: 0.7209717911008346
~~~~~~~~~~~~~~~~~~~~ Gender: f, Support: 425 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.61      0.66      0.63        79
      Eczema       0.63      0.66      0.64        86
     Scabies       0.72      0.74      0.73       151
      Others       0.66      0.57      0.61       109

    accuracy                           0.67       425
   macro avg       0.66      0.66      0.66       425
weighted avg       0.67      0.67      0.66       425

Balanced Acc: 0.6578869348824653
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 3, Gender: m, Support: 147 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.69      0.71      0.70        41
      Eczema       0.69      0.79      0.74        34
     Scabies       0.61      0.67      0.64        42
      Others       0.70      0.47      0.56        30

    accuracy                           0.67       147
   macro avg       0.67      0.66      0.66       147
weighted avg       0.67      0.67      0.66       147

Balanced Acc: 0.6586920133907221
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 3, Gender: f, Support: 156 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.76      0.74      0.75        34
      Eczema       0.56      0.74      0.63        27
     Scabies       0.70      0.70      0.70        57
      Others       0.70      0.55      0.62        38

    accuracy                           0.68       156
   macro avg       0.68      0.68      0.68       156
weighted avg       0.69      0.68      0.68       156

Balanced Acc: 0.6826052058250202
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 4, Gender: m, Support: 125 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.60      0.66        35
      Eczema       0.65      0.85      0.74        20
     Scabies       0.69      0.82      0.75        40
      Others       0.86      0.63      0.73        30

    accuracy                           0.72       125
   macro avg       0.73      0.73      0.72       125
weighted avg       0.73      0.72      0.72       125

Balanced Acc: 0.7270833333333333
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 4, Gender: f, Support: 129 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.65      0.68      0.67        22
      Eczema       0.66      0.69      0.68        36
     Scabies       0.73      0.73      0.73        41
      Others       0.56      0.50      0.53        30

    accuracy                           0.66       129
   macro avg       0.65      0.65      0.65       129
weighted avg       0.66      0.66      0.66       129

Balanced Acc: 0.6519924858339492
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 5, Gender: m, Support: 234 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.73      0.77      0.75        52
      Eczema       0.71      0.76      0.73        49
     Scabies       0.76      0.80      0.78        80
      Others       0.84      0.68      0.75        53

    accuracy                           0.76       234
   macro avg       0.76      0.75      0.75       234
weighted avg       0.76      0.76      0.76       234

Balanced Acc: 0.750894523266491
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 5, Gender: f, Support: 108 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.46      0.52      0.49        21
      Eczema       0.77      0.53      0.62        19
     Scabies       0.75      0.82      0.79        40
      Others       0.67      0.64      0.65        28

    accuracy                           0.67       108
   macro avg       0.66      0.63      0.64       108
weighted avg       0.68      0.67      0.67       108

Balanced Acc: 0.6294956140350877
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 6, Gender: m, Support: 55 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.79      0.73      0.76        15
      Eczema       0.57      0.73      0.64        11
     Scabies       0.84      0.84      0.84        19
      Others       0.88      0.70      0.78        10

    accuracy                           0.76        55
   macro avg       0.77      0.75      0.75        55
weighted avg       0.78      0.76      0.77        55

Balanced Acc: 0.7506778309409887
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 6, Gender: f, Support: 32 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.20      0.50      0.29         2
      Eczema       0.50      0.50      0.50         4
     Scabies       0.69      0.69      0.69        13
      Others       0.80      0.62      0.70        13

    accuracy                           0.62        32
   macro avg       0.55      0.58      0.54        32
weighted avg       0.68      0.62      0.64        32

Balanced Acc: 0.5769230769230769
[32m2025-04-28 09:41:14.443[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36m_run_evaluation_on_range[0m:[36m323[0m - [34m[1meval_df_aggregated:                                 targets                  predictions
subject_id
AA00970025                          [2]                          [2]
AA00970040                       [3, 2]                       [3, 1]
AA00970048                       [3, 0]                       [3, 0]
AA00970056                          [2]                          [2]
AA00970062                          [1]                          [0]
...                                 ...                          ...
AA00972055  [3, 3, 3, 3, 2, 3, 0, 3, 3]  [0, 0, 3, 2, 2, 3, 2, 2, 0]
AA00972061                          [0]                          [1]
AA00972067                          [0]                          [0]
AA00972079                          [0]                          [0]
AA00972102                          [1]                          [1]

[330 rows x 2 columns][0m
[32m2025-04-28 09:41:14.443[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36m_run_evaluation_on_range[0m:[36m324[0m - [34m[1mcase_targets: [2 2 0 2 1 0 3 3 0 2 2 0 2 0 3 1 1 0 1 2 0 1 2 2 2 2 2 2 0 3 1 0 2 3 3 3 0
 2 0 2 2 2 2 1 2 0 2 3 2 2 1 1 2 2 3 1 2 3 0 1 1 1 2 0 0 0 3 2 0 1 2 0 2 2
 3 0 1 2 0 0 0 2 0 1 1 0 2 2 2 0 2 0 0 1 0 0 0 1 0 3 2 0 1 0 1 3 0 3 2 3 2
 1 2 2 3 1 3 3 3 0 2 1 1 3 2 3 2 2 3 3 0 0 2 1 1 1 1 3 0 2 0 3 3 3 2 3 1 0
 0 2 0 0 1 1 3 1 2 3 2 0 0 3 0 0 3 2 2 0 0 3 2 1 2 0 0 0 0 0 2 0 2 0 0 3 2
 3 3 1 3 2 2 0 1 0 2 3 1 1 3 2 0 1 2 2 3 2 3 2 0 1 0 2 2 2 0 1 1 3 2 2 1 0
 2 1 1 2 0 0 1 0 2 2 1 2 2 2 1 2 0 2 1 1 1 2 0 1 2 0 2 2 2 3 1 1 0 1 1 1 3
 0 0 1 0 2 2 2 1 3 0 0 0 0 3 2 0 0 1 1 3 3 1 2 2 1 0 0 1 2 0 2 1 0 2 1 1 1
 0 1 1 3 1 3 0 3 1 0 1 3 2 0 1 0 0 0 0 2 2 2 1 3 2 0 0 2 2 3 0 0 0 1][0m
[32m2025-04-28 09:41:14.444[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36m_run_evaluation_on_range[0m:[36m325[0m - [34m[1mcase_predictions: [2 1 0 2 0 0 3 3 2 2 2 0 0 0 3 0 2 0 3 2 0 1 2 2 2 2 2 2 0 0 1 0 2 2 3 3 3
 1 2 2 2 2 2 1 2 0 2 3 1 1 1 1 3 2 2 1 2 3 0 1 1 1 2 0 1 1 0 2 2 1 2 0 2 2
 3 3 0 0 0 0 0 1 0 3 1 2 2 2 2 0 2 0 2 1 0 1 0 3 2 3 1 0 1 0 1 3 1 3 1 1 1
 1 2 2 0 2 0 3 3 0 2 0 1 3 2 2 2 2 3 3 0 0 2 2 1 3 1 3 0 2 0 3 1 0 2 3 1 0
 1 1 2 0 1 0 0 1 0 1 2 0 0 2 0 0 2 0 0 0 2 3 1 1 2 0 0 2 0 3 1 1 0 0 0 3 2
 2 3 1 2 2 1 2 2 2 2 2 3 1 0 2 0 1 2 0 3 2 3 2 3 1 0 2 2 0 0 1 1 2 1 1 1 0
 2 0 1 2 1 1 2 1 2 3 1 2 0 1 1 1 0 3 1 1 1 2 0 1 2 2 1 1 2 3 2 1 1 1 1 1 2
 2 3 1 0 2 0 2 2 3 0 2 0 0 3 3 0 2 1 1 3 2 1 2 1 1 2 0 1 0 0 2 1 2 2 3 1 1
 0 1 1 2 0 2 0 3 1 0 1 3 2 0 1 0 0 0 0 2 2 1 2 2 2 0 2 1 2 2 1 0 0 1][0m
[32m2025-04-28 09:41:14.446[0m | [34m[1mDEBUG   [0m | [36msrc.trainers.bias_evaluation_trainer[0m:[36m_run_evaluation_on_range[0m:[36m329[0m - [34m[1meval_df_aggregated - majority voted:             targets  predictions
subject_id
AA00970025        2            2
AA00970040        2            1
AA00970048        0            0
AA00970056        2            2
AA00970062        1            0
...             ...          ...
AA00972055        3            2
AA00972061        0            1
AA00972067        0            0
AA00972079        0            0
AA00972102        1            1

[330 rows x 2 columns][0m
******************** biasEvaluation -> Case Agg. ********************
              precision    recall  f1-score   support

      Fungal       0.72      0.65      0.68        97
      Eczema       0.61      0.72      0.66        76
     Scabies       0.62      0.65      0.63       102
      Others       0.67      0.55      0.60        55

    accuracy                           0.65       330
   macro avg       0.65      0.64      0.64       330
weighted avg       0.65      0.65      0.65       330

Balanced Acc: 0.6414205288981868
==================== grouped output ~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=
~~~~~~~~~~~~~~~~~~~~ Sex: m, Support: 561 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.71      0.71       143
      Eczema       0.68      0.78      0.73       114
     Scabies       0.72      0.78      0.75       181
      Others       0.82      0.62      0.70       123

    accuracy                           0.73       561
   macro avg       0.73      0.72      0.72       561
weighted avg       0.73      0.73      0.72       561

Balanced Acc: 0.7209717911008346
~~~~~~~~~~~~~~~~~~~~ Sex: f, Support: 425 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.61      0.66      0.63        79
      Eczema       0.63      0.66      0.64        86
     Scabies       0.72      0.74      0.73       151
      Others       0.66      0.57      0.61       109

    accuracy                           0.67       425
   macro avg       0.66      0.66      0.66       425
weighted avg       0.67      0.67      0.66       425

Balanced Acc: 0.6578869348824653
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 3, Support: 303 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.72      0.72        75
      Eczema       0.63      0.77      0.69        61
     Scabies       0.66      0.69      0.67        99
      Others       0.70      0.51      0.59        68

    accuracy                           0.67       303
   macro avg       0.68      0.67      0.67       303
weighted avg       0.68      0.67      0.67       303

Balanced Acc: 0.6730165931250791
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 4, Support: 254 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.69      0.63      0.66        57
      Eczema       0.66      0.75      0.70        56
     Scabies       0.71      0.78      0.74        81
      Others       0.69      0.57      0.62        60

    accuracy                           0.69       254
   macro avg       0.69      0.68      0.68       254
weighted avg       0.69      0.69      0.69       254

Balanced Acc: 0.6815058479532163
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 5, Support: 342 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.65      0.70      0.67        73
      Eczema       0.72      0.69      0.71        68
     Scabies       0.76      0.81      0.78       120
      Others       0.77      0.67      0.72        81

    accuracy                           0.73       342
   macro avg       0.72      0.72      0.72       342
weighted avg       0.73      0.73      0.73       342

Balanced Acc: 0.7162016518936342
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 6, Support: 87 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.63      0.71      0.67        17
      Eczema       0.56      0.67      0.61        15
     Scabies       0.78      0.78      0.78        32
      Others       0.83      0.65      0.73        23

    accuracy                           0.71        87
   macro avg       0.70      0.70      0.70        87
weighted avg       0.73      0.71      0.72        87

Balanced Acc: 0.7014932331628303
==================== grouped output per case using subgroup ~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 3, Support: 303 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.72      0.72        75
      Eczema       0.63      0.77      0.69        61
     Scabies       0.66      0.69      0.67        99
      Others       0.70      0.51      0.59        68

    accuracy                           0.67       303
   macro avg       0.68      0.67      0.67       303
weighted avg       0.68      0.67      0.67       303

Balanced Acc: 0.6730165931250791
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 4, Support: 254 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.69      0.63      0.66        57
      Eczema       0.66      0.75      0.70        56
     Scabies       0.71      0.78      0.74        81
      Others       0.69      0.57      0.62        60

    accuracy                           0.69       254
   macro avg       0.69      0.68      0.68       254
weighted avg       0.69      0.69      0.69       254

Balanced Acc: 0.6815058479532163
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 5, Support: 342 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.65      0.70      0.67        73
      Eczema       0.72      0.69      0.71        68
     Scabies       0.76      0.81      0.78       120
      Others       0.77      0.67      0.72        81

    accuracy                           0.73       342
   macro avg       0.72      0.72      0.72       342
weighted avg       0.73      0.73      0.73       342

Balanced Acc: 0.7162016518936342
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 6, Support: 87 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.63      0.71      0.67        17
      Eczema       0.56      0.67      0.61        15
     Scabies       0.78      0.78      0.78        32
      Others       0.83      0.65      0.73        23

    accuracy                           0.71        87
   macro avg       0.70      0.70      0.70        87
weighted avg       0.73      0.71      0.72        87

Balanced Acc: 0.7014932331628303
~~~~~~~~~~~~~~~~~~~~ Sex: f, Support: 425 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.61      0.66      0.63        79
      Eczema       0.63      0.66      0.64        86
     Scabies       0.72      0.74      0.73       151
      Others       0.66      0.57      0.61       109

    accuracy                           0.67       425
   macro avg       0.66      0.66      0.66       425
weighted avg       0.67      0.67      0.66       425

Balanced Acc: 0.6578869348824653
~~~~~~~~~~~~~~~~~~~~ Sex: m, Support: 561 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.71      0.71       143
      Eczema       0.68      0.78      0.73       114
     Scabies       0.72      0.78      0.75       181
      Others       0.82      0.62      0.70       123

    accuracy                           0.73       561
   macro avg       0.73      0.72      0.72       561
weighted avg       0.73      0.73      0.72       561

Balanced Acc: 0.7209717911008346
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 3, Sex: f, Support: 156 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.76      0.74      0.75        34
      Eczema       0.56      0.74      0.63        27
     Scabies       0.70      0.70      0.70        57
      Others       0.70      0.55      0.62        38

    accuracy                           0.68       156
   macro avg       0.68      0.68      0.68       156
weighted avg       0.69      0.68      0.68       156

Balanced Acc: 0.6826052058250202
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 3, Sex: m, Support: 147 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.69      0.71      0.70        41
      Eczema       0.69      0.79      0.74        34
     Scabies       0.61      0.67      0.64        42
      Others       0.70      0.47      0.56        30

    accuracy                           0.67       147
   macro avg       0.67      0.66      0.66       147
weighted avg       0.67      0.67      0.66       147

Balanced Acc: 0.6586920133907221
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 4, Sex: f, Support: 129 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.65      0.68      0.67        22
      Eczema       0.66      0.69      0.68        36
     Scabies       0.73      0.73      0.73        41
      Others       0.56      0.50      0.53        30

    accuracy                           0.66       129
   macro avg       0.65      0.65      0.65       129
weighted avg       0.66      0.66      0.66       129

Balanced Acc: 0.6519924858339492
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 4, Sex: m, Support: 125 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.72      0.60      0.66        35
      Eczema       0.65      0.85      0.74        20
     Scabies       0.69      0.82      0.75        40
      Others       0.86      0.63      0.73        30

    accuracy                           0.72       125
   macro avg       0.73      0.73      0.72       125
weighted avg       0.73      0.72      0.72       125

Balanced Acc: 0.7270833333333333
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 5, Sex: f, Support: 108 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.46      0.52      0.49        21
      Eczema       0.77      0.53      0.62        19
     Scabies       0.75      0.82      0.79        40
      Others       0.67      0.64      0.65        28

    accuracy                           0.67       108
   macro avg       0.66      0.63      0.64       108
weighted avg       0.68      0.67      0.67       108

Balanced Acc: 0.6294956140350877
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 5, Sex: m, Support: 234 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.73      0.77      0.75        52
      Eczema       0.71      0.76      0.73        49
     Scabies       0.76      0.80      0.78        80
      Others       0.84      0.68      0.75        53

    accuracy                           0.76       234
   macro avg       0.76      0.75      0.75       234
weighted avg       0.76      0.76      0.76       234

Balanced Acc: 0.750894523266491
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 6, Sex: f, Support: 32 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.20      0.50      0.29         2
      Eczema       0.50      0.50      0.50         4
     Scabies       0.69      0.69      0.69        13
      Others       0.80      0.62      0.70        13

    accuracy                           0.62        32
   macro avg       0.55      0.58      0.54        32
weighted avg       0.68      0.62      0.64        32

Balanced Acc: 0.5769230769230769
~~~~~~~~~~~~~~~~~~~~ Fitzpatrick: 6, Sex: m, Support: 55 ~~~~~~~~~~~~~~~~~~~~
              precision    recall  f1-score   support

      Fungal       0.79      0.73      0.76        15
      Eczema       0.57      0.73      0.64        11
     Scabies       0.84      0.84      0.84        19
      Others       0.88      0.70      0.78        10

    accuracy                           0.76        55
   macro avg       0.77      0.75      0.75        55
weighted avg       0.78      0.76      0.77        55

Balanced Acc: 0.7506778309409887
==================== grouped output per case - majority voted~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=
Traceback (most recent call last):
  File "/opt/conda/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'sex'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/jovyan/PASSION-Bias-Evaluation/src/evaluate_bias_experiments.py", line 70, in <module>
    trainer.evaluate()
  File "/home/jovyan/PASSION-Bias-Evaluation/src/trainers/bias_evaluation_trainer.py", line 228, in evaluate
    self._run_evaluation_on_range(
  File "/home/jovyan/PASSION-Bias-Evaluation/src/trainers/bias_evaluation_trainer.py", line 358, in _run_evaluation_on_range
    self.print_grouped_result(eval_df_aggregated, group_by="sex")
  File "/home/jovyan/PASSION-Bias-Evaluation/src/trainers/bias_evaluation_trainer.py", line 444, in print_grouped_result
    group_types = eval_df[group_by].unique()
                  ~~~~~~~^^^^^^^^^^
  File "/opt/conda/lib/python3.12/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/conda/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'sex'
